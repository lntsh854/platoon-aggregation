function concrete_controller(block)

  setup(block);
  
%endfunction

function setup(block)
  %% Register number of input and output ports
  block.NumInputPorts  = 3;
  block.NumOutputPorts = 2;

  %% Setup functional port properties to dynamically
  %% inherited.
  block.SetPreCompInpPortInfoToDynamic;
  block.SetPreCompOutPortInfoToDynamic;
 
  block.InputPort(1).Dimensions = 5;
  block.InputPort(1).DirectFeedthrough = false;
  block.InputPort(2).Dimensions = 2;
  block.InputPort(2).DirectFeedthrough = false;
  block.InputPort(3).Dimensions = 3;
  block.InputPort(3).DirectFeedthrough = false;
  
  block.OutputPort(1).Dimensions = 5;
  block.OutputPort(2).Dimensions = 2;
  
  %% Set block sample time to inherited
  block.SampleTimes = [-1 0];
  
  %% Set the block simStateCompliance to default (i.e., same as a built-in block)
  block.SimStateCompliance = 'DefaultSimState';

  %% Run accelerator on TLC
  block.SetAccelRunOnTLC(true);
  
  %% Register methods
  block.RegBlockMethod('SetInputPortSamplingMode', @SetInpPortFrameData);
  block.RegBlockMethod('Outputs',                 @Output);  
  block.RegBlockMethod('SetInputPortSamplingMode', @SetInpPortFrameData);
  
%endfunction

function SetInpPortFrameData(block, idx, fd)
  
  block.InputPort(idx).SamplingMode = fd;
  block.OutputPort(1).SamplingMode  = fd;
  block.OutputPort(2).SamplingMode  = fd;
  
%endfunction

function Output(block)

    %%% BLOCK INPUTS %%%
    x = block.InputPort(1).data; % state
    uhat = block.InputPort(2).data; % abstract input
    xhat = block.InputPort(3).data; % abstract state
    
    if(norm(x - zeros(5,1)) < 0.1)
        x = [0; 15; 0; 0; 0];
    end
    
    % define the error manifold, get the error
    P_1 = [eye(3); zeros(2,3)];
    P_2 = [zeros(3,2); eye(2)];
    err = x - (P_1*xhat + P_2*uhat);
    
    % map variables to new notation
    err_1 = err(1);
    err_2 = err(2);
    err_3 = err(3);
    err_4 = err(4);
    err_5 = err(5);
    % xhat_1 = xhat(1);
    % xhat_2 = xhat(2);
    xhat_3 = xhat(3);
    uhat_1 = uhat(1);
    % uhat_2 = uhat(2);
    
    k1 = 2.127845954574875e-05*err_1^3*err_3 - 2.503955761696465*err_1^3*uhat_1 ...
  + 0.9568616648071756*err_1^3*xhat_3 - 0.0001853516770973126*err_1^2 ...
  *err_2*err_3 - 3.696780245608216e-05*err_1^2*err_2*err_5 ...
  + 0.3538793688167762*err_1^2*err_2*uhat_1 - 0.1490038384117916*err_1^2 ...
  *err_2*xhat_3 + 1.228059352379273e-05*err_1^2*err_3^2 ...
  + 7.203018162046655e-05*err_1^2*err_3*err_4 + 0.09172040233096733 ...
  *err_1^2*err_3*uhat_1 - 0.03554087435446041*err_1^2*err_3*xhat_3 ...
  + 1.391578429673514e-05*err_1^2*err_4*err_5 - 9.232533895509549*err_1^2 ...
  *err_4*uhat_1 + 3.554922536694801*err_1^2*err_4*xhat_3 ...
  - 0.001541379206252728*err_1^2*err_5*uhat_1 + 0.0002474510372539824 ...
  *err_1^2*err_5*xhat_3 + 0.0002056346521733811*err_1^2*uhat_1^2 ...
  + 4.577368947330168e-05*err_1*err_2^2*err_3 - 2.645115128140492*err_1 ...
  *err_2^2*uhat_1 + 0.923355819421787*err_1*err_2^2*xhat_3 ...
  + 1.432322992593447e-05*err_1*err_2*err_3^2 - 0.0006751336424726603 ...
  *err_1*err_2*err_3*err_4 - 0.02704901742104914*err_1*err_2*err_3*uhat_1 ...
  + 0.03652337814267034*err_1*err_2*err_3*xhat_3 - 0.0001294625444700137 ...
  *err_1*err_2*err_4*err_5 - 0.4081038913515411*err_1*err_2*err_4*uhat_1 ...
  + 0.09269442496293433*err_1*err_2*err_4*xhat_3 - 0.07733874021920989 ...
  *err_1*err_2*err_5*uhat_1 + 0.03213895746499967*err_1*err_2*err_5 ...
  *xhat_3 - 6.177394459578902e-05*err_1*err_2*uhat_1^2 ...
  + 2.462466960223223e-05*err_1*err_3^2*err_4 + 4.462528393607722e-05 ...
  *err_1*err_3^2*err_5 - 2.51479651091773*err_1*err_3^2*uhat_1 ...
  + 0.8352544642102896*err_1*err_3^2*xhat_3 - 4.849241995269422e-05*err_1 ...
  *err_3*err_4^2 - 0.1024871665675768*err_1*err_3*err_4*uhat_1 ...
  + 0.0348962560992447*err_1*err_3*err_4*xhat_3 - 0.5710826503774001*err_1 ...
  *err_3*err_5*uhat_1 + 0.1900957310475189*err_1*err_3*err_5*xhat_3 ...
  + 8.395777062788209e-05*err_1*err_3*uhat_1^2 + 6.624571720937472e-05 ...
  *err_1*err_3*uhat_1*xhat_3 + 0.0003747352040140856*err_1*err_3*xhat_3^2 ...
  + 2.846945435723252*err_1*err_4^2*uhat_1 - 1.056363501837192*err_1 ...
  *err_4^2*xhat_3 - 0.02607374238216337*err_1*err_4*err_5*uhat_1 ...
  + 0.007803986345634159*err_1*err_4*err_5*xhat_3 + 0.0007605331792697661 ...
  *err_1*err_4*uhat_1^2 - 6.977428350927557e-05*err_1*err_4*xhat_3^2 ...
  + 0.08627779781946696*err_1*err_5^2*uhat_1 - 0.04683928490952855*err_1 ...
  *err_5^2*xhat_3 + 1.814618520669098e-05*err_1*err_5*uhat_1^2 ...
  + 2.057538552926565e-05*err_1*err_5*uhat_1*xhat_3 ...
  + 0.0002084547378044809*err_1*err_5*xhat_3^2 - 2.794614492453053*err_1 ...
  *uhat_1^3 + 0.4583332567826425*err_1*uhat_1^2*xhat_3 ...
  - 0.4210244752368259*err_1*uhat_1*xhat_3^2 + 0.3932915472294961*err_1 ...
  *xhat_3^3 + 0.4163811848816847*err_2^3*uhat_1 - 0.1450369678915248 ...
  *err_2^3*xhat_3 + 6.043057536269813e-05*err_2^2*err_3*err_4 ...
  + 0.1124416567151834*err_2^2*err_3*uhat_1 - 0.04330248879818798*err_2^2 ...
  *err_3*xhat_3 + 1.192338984828411e-05*err_2^2*err_4*err_5 ...
  - 10.61896561682579*err_2^2*err_4*uhat_1 + 3.698963774800276*err_2^2 ...
  *err_4*xhat_3 + 0.01136663048595538*err_2^2*err_5*uhat_1 ...
  - 0.00498887094577218*err_2^2*err_5*xhat_3 + 3.510286315143544e-05*err_2 ...
  *err_3^3 + 5.533249173259159e-05*err_2*err_3^2*err_4 ...
  + 0.3963042077603632*err_2*err_3^2*uhat_1 - 0.1326126864287606*err_2 ...
  *err_3^2*xhat_3 + 0.0002152781218517011*err_2*err_3*err_4^2 ...
  + 1.042924009974262e-05*err_2*err_3*err_4*err_5 - 0.1183889088447357 ...
  *err_2*err_3*err_4*uhat_1 + 0.1478860428515732*err_2*err_3*err_4*xhat_3 ...
  + 1.360288050919506e-05*err_2*err_3*err_5^2 + 0.0923770523563109*err_2 ...
  *err_3*err_5*uhat_1 - 0.03093457813214239*err_2*err_3*err_5*xhat_3 ...
  - 1.267106392384355e-05*err_2*err_3*uhat_1^2 + 2.617124103385274e-05 ...
  *err_2*err_3*uhat_1*xhat_3 + 4.441640790178464e-05*err_2*err_3*xhat_3^2 ...
  + 4.043861455464484e-05*err_2*err_4^2*err_5 - 0.4262093321722242*err_2 ...
  *err_4^2*uhat_1 + 0.159519515540487*err_2*err_4^2*xhat_3 ...
  - 0.2668790723141614*err_2*err_4*err_5*uhat_1 + 0.1138571469917723*err_2 ...
  *err_4*err_5*xhat_3 - 0.0001080819420611031*err_2*err_4*uhat_1^2 ...
  + 6.837707914538721e-05*err_2*err_4*xhat_3^2 - 0.01113765686099562*err_2 ...
  *err_5^2*uhat_1 + 0.00645447533008611*err_2*err_5^2*xhat_3 ...
  - 1.310456288724651e-05*err_2*err_5*xhat_3^2 + 0.4388673935181468*err_2 ...
  *uhat_1^3 - 0.0719750230189722*err_2*uhat_1^2*xhat_3 ...
  + 0.06614785130669999*err_2*uhat_1*xhat_3^2 - 0.06172748179018307*err_2 ...
  *xhat_3^3 + 0.0002917247945027648*err_3^4 - 0.006137026012174378*err_3^3 ...
  *err_4 - 0.001609924640950492*err_3^3*err_5 + 0.09636859709667009 ...
  *err_3^3*uhat_1 - 0.03309541550283205*err_3^3*xhat_3 ...
  - 0.000114699237210826*err_3^2*err_4^2 - 0.0005986336072881089*err_3^2 ...
  *err_4*err_5 - 10.11991874611538*err_3^2*err_4*uhat_1 + 3.34244712288288 ...
  *err_3^2*err_4*xhat_3 - 0.0001967599896303712*err_3^2*err_5^2 ...
  + 0.02019193530093657*err_3^2*err_5*uhat_1 - 0.01216490945114462*err_3^2 ...
  *err_5*xhat_3 - 0.01848856429286507*err_3^2*uhat_1*xhat_3 ...
  + 0.0008536823880774021*err_3^2*xhat_3^2 + 2.932159401203124e-05*err_3 ...
  *err_4^3 - 0.111372184960514*err_3*err_4^2*uhat_1 + 0.0403689061934033 ...
  *err_3*err_4^2*xhat_3 - 6.454931562131775e-05*err_3*err_4*err_5^2 ...
  - 1.93936135877902*err_3*err_4*err_5*uhat_1 + 0.6470591980759518*err_3 ...
  *err_4*err_5*xhat_3 + 0.0003729523201877596*err_3*err_4*uhat_1^2 ...
  + 0.0002718450790867336*err_3*err_4*uhat_1*xhat_3 - 0.01707341430732263 ...
  *err_3*err_4*xhat_3^2 - 1.76061760606787e-05*err_3*err_5^3 ...
  - 0.004816268398630066*err_3*err_5^2*uhat_1 + 0.001494830245929086*err_3 ...
  *err_5^2*xhat_3 - 2.361034977155608e-05*err_3*err_5*uhat_1^2 ...
  - 0.001680634373790571*err_3*err_5*uhat_1*xhat_3 - 0.004817876513897014 ...
  *err_3*err_5*xhat_3^2 + 0.1133362732851238*err_3*uhat_1^3 ...
  - 0.01854923104548176*err_3*uhat_1^2*xhat_3 - 0.001979143011101104*err_3 ...
  *uhat_1*xhat_3^2 - 0.01569986675298748*err_3*xhat_3^3 - 1.68269988384993 ...
  *err_4^3*uhat_1 + 0.3382774700465547*err_4^3*xhat_3 ...
  - 0.03202832633292041*err_4^2*err_5*uhat_1 + 0.01133746312926346*err_4^2 ...
  *err_5*xhat_3 - 0.0002589558731470196*err_4^2*uhat_1^2 ...
  - 6.705150730351768e-05*err_4^2*uhat_1*xhat_3 - 0.0002848958702971552 ...
  *err_4^2*xhat_3^2 - 0.7002975390776895*err_4*err_5^2*uhat_1 ...
  + 0.149953351064712*err_4*err_5^2*xhat_3 + 6.996962103030367e-05*err_4 ...
  *err_5*uhat_1^2 + 5.262333782434704e-05*err_4*err_5*uhat_1*xhat_3 ...
  - 0.001541970369223875*err_4*err_5*xhat_3^2 - 11.21282325587069*err_4 ...
  *uhat_1^3 + 1.83863616403935*err_4*uhat_1^2*xhat_3 - 1.689664247754115 ...
  *err_4*uhat_1*xhat_3^2 + 1.572024857926688*err_4*xhat_3^3 ...
  - 0.003690835525194574*err_5^3*uhat_1 + 0.001481945671307481*err_5^3 ...
  *xhat_3 - 2.894826784252594e-05*err_5^2*uhat_1^2 - 0.0001899007898987851 ...
  *err_5^2*uhat_1*xhat_3 - 0.0005863210564510354*err_5^2*xhat_3^2 ...
  + 0.0002234869086284353*err_5*uhat_1^3 - 0.0001237309913083989*err_5 ...
  *uhat_1^2*xhat_3 - 0.001814432529842025*err_5*uhat_1*xhat_3^2 ...
  - 0.001654627562722384*err_5*xhat_3^3 + 2.366161590393847e-05*uhat_1^2 ...
  *xhat_3^2 - 3.941393284469831e-05*uhat_1*xhat_3^3 - 2.63742679309904 ...
  *err_1^3 + 0.3897065701613108*err_1^2*err_2 + 0.1016993782626481*err_1^2 ...
  *err_3 - 9.804820885662346*err_1^2*err_4 - 0.0004465068309347279*err_1^2 ...
  *err_5 - 4.464598343308988e-05*err_1^2*uhat_1 - 2.682526505243263*err_1 ...
  *err_2^2 + 0.008058874746726121*err_1*err_2*err_3 - 0.3370538140936687 ...
  *err_1*err_2*err_4 - 0.07035101981835526*err_1*err_2*err_5 ...
  + 1.258467807092837e-05*err_1*err_2*uhat_1 + 6.360099549208699e-05*err_1 ...
  *err_2*xhat_3 - 2.683488702075642*err_1*err_3^2 - 0.08151281277950705 ...
  *err_1*err_3*err_4 - 0.5980185700760744*err_1*err_3*err_5 ...
  - 4.956512876330372e-05*err_1*err_3*uhat_1 - 0.00858452285436883*err_1 ...
  *err_3*xhat_3 + 2.90446538758683*err_1*err_4^2 - 0.02059818299085174 ...
  *err_1*err_4*err_5 - 4.531719967033455e-05*err_1*err_4*uhat_1 ...
  + 0.0001050500686310725*err_1*err_4*xhat_3 + 0.1190145755100013*err_1 ...
  *err_5^2 - 0.003523768105718308*err_1*err_5*xhat_3 - 1.184789771832779 ...
  *err_1*uhat_1^2 + 0.3859150392285091*err_1*uhat_1*xhat_3 ...
  - 0.5718526637697081*err_1*xhat_3^2 + 0.4218745429156772*err_2^3 ...
  + 0.1080162049853319*err_2^2*err_3 - 10.76053915214965*err_2^2*err_4 ...
  + 0.01096109397829552*err_2^2*err_5 + 0.421247773457371*err_2*err_3^2 ...
  + 0.02766196584859971*err_2*err_3*err_4 + 0.09621072175150751*err_2 ...
  *err_3*err_5 - 0.0002283108106147272*err_2*err_3*uhat_1 ...
  + 0.001343802986918747*err_2*err_3*xhat_3 - 0.4357569699791677*err_2 ...
  *err_4^2 - 0.2433763500193632*err_2*err_4*err_5 - 0.0003990024063825384 ...
  *err_2*err_4*xhat_3 - 0.01598456366364035*err_2*err_5^2 ...
  - 2.604601552956648e-05*err_2*err_5*uhat_1 + 0.0005284711557153272*err_2 ...
  *err_5*xhat_3 + 0.1860551114607756*err_2*uhat_1^2 - 0.061069553295584 ...
  *err_2*uhat_1*xhat_3 + 0.08980273627190064*err_2*xhat_3^2 ...
  + 0.1090693012323648*err_3^3 - 10.67984328955499*err_3^2*err_4 ...
  + 0.02344455144709944*err_3^2*err_5 + 0.1151768928945688*err_3^2*uhat_1 ...
  + 0.0003093045587762021*err_3^2*xhat_3 - 0.1142941545784725*err_3 ...
  *err_4^2 - 2.064696041704554*err_3*err_4*err_5 - 0.0002032988208400065 ...
  *err_3*err_4*uhat_1 + 0.1943142192271193*err_3*err_4*xhat_3 ...
  - 0.005542506402828369*err_3*err_5^2 + 0.0108327603267797*err_3*err_5 ...
  *uhat_1 + 0.0002662269196577699*err_3*err_5*xhat_3 + 0.04802398188346465 ...
  *err_3*uhat_1^2 + 0.2142427672193482*err_3*uhat_1*xhat_3 ...
  + 0.02315473040093535*err_3*xhat_3^2 - 0.8600385828390291*err_4^3 ...
  - 0.03154091031910455*err_4^2*err_5 + 0.0005500939913845844*err_4^2 ...
  *uhat_1 + 0.0003420553230866244*err_4^2*xhat_3 - 0.44183690600074*err_4 ...
  *err_5^2 + 0.01598804700121645*err_4*err_5*xhat_3 - 4.75388560014737 ...
  *err_4*uhat_1^2 + 1.548921022054285*err_4*uhat_1*xhat_3 ...
  - 2.176957996641552*err_4*xhat_3^2 - 0.004395788674096153*err_5^3 ...
  + 0.001281350802398645*err_5^2*uhat_1 + 0.0004325190807661326*err_5^2 ...
  *xhat_3 + 0.0003093478127209062*err_5*uhat_1^2 + 0.02147563534003305 ...
  *err_5*uhat_1*xhat_3 + 0.0001610583289395425*err_5*xhat_3^2 ...
  + 2.391122927854037e-05*uhat_1^2*xhat_3 + 0.0001064825528069728*uhat_1 ...
  *xhat_3^2 - 3.027100112139546e-05*err_1^2 + 2.499840806841266e-05*err_1 ...
  *err_2 - 0.002039380151768367*err_1*err_3 + 1.785140749788667e-05*err_1 ...
  *err_4 - 0.0006865796755629035*err_1*err_5 - 1.241966860574925*err_1 ...
  *uhat_1 + 0.9422452503709701*err_1*xhat_3 + 0.000103158777964128*err_2 ...
  *err_3 - 4.648591747908058e-05*err_2*err_4 + 6.686036582621399e-05*err_2 ...
  *err_5 + 0.1949649060279295*err_2*uhat_1 - 0.1481887075556531*err_2 ...
  *xhat_3 - 0.001737500206267938*err_3^2 + 0.0300580987134493*err_3*err_4 ...
  + 0.0100709612787754*err_3*err_5 + 0.08882541662822262*err_3*uhat_1 ...
  - 0.04002157541772124*err_3*xhat_3 + 0.0005784019822573351*err_4^2 ...
  + 0.002162318830294002*err_4*err_5 - 4.982979573642527*err_4*uhat_1 ...
  + 3.819886260792007*err_4*xhat_3 + 0.001224730451342355*err_5^2 ...
  + 0.003506095800345519*err_5*uhat_1 + 0.01013937306102278*err_5*xhat_3 ...
  + 9.829743523399988e-05*uhat_1*xhat_3 - 2.508190976266365*err_1 ...
  + 0.3940058992295197*err_2 + 0.1027089181687228*err_3 ...
  - 10.31314987670794*err_4 + 0.004741105935670337*err_5;

k2 = 0.001194795522890844*err_1^3*uhat_1 - 0.0004518066963259198*err_1^3 ...
  *xhat_3 + 0.2119734613367776*err_1^2*err_2*uhat_1 - 0.08168932495026464 ...
  *err_1^2*err_2*xhat_3 - 3.185382395834224e-05*err_1^2*err_3^2 ...
  + 8.106272395451724e-05*err_1^2*err_3*err_5 + 1.762734574160649*err_1^2 ...
  *err_3*uhat_1 - 0.6799548378912692*err_1^2*err_3*xhat_3 ...
  - 0.001632046360290082*err_1^2*err_4*uhat_1 + 0.0005868902073303311 ...
  *err_1^2*err_4*xhat_3 + 1.830384072685128e-05*err_1^2*err_5^2 ...
  - 9.999710586581966*err_1^2*err_5*uhat_1 + 3.852613838483276*err_1^2 ...
  *err_5*xhat_3 - 4.773846628096682e-05*err_1^2*xhat_3^2 ...
  + 1.619560045880834e-05*err_1*err_2^2*err_3 + 0.005046604738768961*err_1 ...
  *err_2^2*uhat_1 - 0.0007167154114481265*err_1*err_2^2*xhat_3 ...
  + 0.0001331310487221234*err_1*err_2*err_3^2 - 0.0007048266705010486 ...
  *err_1*err_2*err_3*err_5 + 0.03044759570361228*err_1*err_2*err_3*uhat_1 ... 
  - 0.001292665805883317*err_1*err_2*err_3*xhat_3 - 0.06914421293965733 ...
  *err_1*err_2*err_4*uhat_1 + 0.02655634357196981*err_1*err_2*err_4 ...
  *xhat_3 - 0.0001530738982773483*err_1*err_2*err_5^2 - 0.1468418532462944 ...
  *err_1*err_2*err_5*uhat_1 - 0.0005940443066374511*err_1*err_2*err_5 ...
  *xhat_3 - 1.762720672983566e-05*err_1*err_2*uhat_1^2 ...
  + 1.326463808722449e-05*err_1*err_2*xhat_3^2 + 0.0003822665039403671 ...
  *err_1*err_3^3 + 6.428007228523489e-05*err_1*err_3^2*err_4 ...
  + 0.0001023461178308041*err_1*err_3^2*err_5 + 0.008694975732656802*err_1 ...
  *err_3^2*uhat_1 - 0.001682645597134856*err_1*err_3^2*xhat_3 ...
  - 5.377504728570436e-05*err_1*err_3*err_4*err_5 - 0.5686777644330669 ...
  *err_1*err_3*err_4*uhat_1 + 0.2126116592387234*err_1*err_3*err_4*xhat_3 ...
  - 0.03204005251167533*err_1*err_3*err_5*uhat_1 + 0.01058519661759653 ...
  *err_1*err_3*err_5*xhat_3 - 0.0001527001985071529*err_1*err_3*uhat_1^2 ...
  + 0.0003686447049845932*err_1*err_3*uhat_1*xhat_3 + 0.001177040373855131 ...
  *err_1*err_3*xhat_3^2 + 0.0004957286826452369*err_1*err_4^2*uhat_1 ...
  - 0.0004475258152690789*err_1*err_4^2*xhat_3 - 1.216908057071945e-05 ...
  *err_1*err_4*err_5^2 + 2.685005279509125*err_1*err_4*err_5*uhat_1 ...
  - 1.045470022783909*err_1*err_4*err_5*xhat_3 + 1.243124991121991e-05 ...
  *err_1*err_4*uhat_1*xhat_3 + 0.0001733911454787249*err_1*err_4*xhat_3^2 ...
  - 0.01279014029793477*err_1*err_5^2*uhat_1 + 0.002792956256351559*err_1 ...
  *err_5^2*xhat_3 + 0.0008210056321004829*err_1*err_5*uhat_1^2 ...
  + 3.47413215961793e-05*err_1*err_5*uhat_1*xhat_3 + 0.000142565158938781 ...
  *err_1*err_5*xhat_3^2 + 0.001719610494171861*err_1*uhat_1^3 ...
  - 0.0003055109521077013*err_1*uhat_1^2*xhat_3 + 0.0006093037981496429 ...
  *err_1*uhat_1*xhat_3^2 + 0.0001504682539964246*err_1*xhat_3^3 ...
  + 0.2265947001589214*err_2^3*uhat_1 - 0.07900899543544243*err_2^3 ...
  *xhat_3 - 1.354507929425537e-05*err_2^2*err_3^2 + 6.690539057463417e-05 ...
  *err_2^2*err_3*err_5 + 1.887012879600053*err_2^2*err_3*uhat_1 ...
  - 0.6603084822775864*err_2^2*err_3*xhat_3 + 0.009728782868426596*err_2^2 ...
  *err_4*uhat_1 - 0.003982400587286802*err_2^2*err_4*xhat_3 ...
  + 1.482448777889467e-05*err_2^2*err_5^2 - 10.61720960169338*err_2^2 ...
  *err_5*uhat_1 + 3.702166276161136*err_2^2*err_5*xhat_3 ...
  - 6.941933431176579e-05*err_2*err_3^3 - 4.528720005567506e-05*err_2 ...
  *err_3^2*err_4 + 3.477363446559267e-05*err_2*err_3^2*err_5 ...
  + 0.2376823060820635*err_2*err_3^2*uhat_1 - 0.09807407362893299*err_2 ...
  *err_3^2*xhat_3 + 0.0001937151418271392*err_2*err_3*err_4*err_5 ...
  + 0.08944097480034617*err_2*err_3*err_4*uhat_1 - 0.03338043321204387 ...
  *err_2*err_3*err_4*xhat_3 + 1.023337949926273e-05*err_2*err_3*err_5^2 ...
  - 0.01648076133258195*err_2*err_3*err_5*uhat_1 + 0.1114535605982407 ...
  *err_2*err_3*err_5*xhat_3 + 1.416811713273196e-05*err_2*err_3*uhat_1^2 ...
  - 6.029315501307289e-05*err_2*err_3*uhat_1*xhat_3 ...
  - 0.0002212379546814847*err_2*err_3*xhat_3^2 - 0.002646190013185362 ...
  *err_2*err_4^2*uhat_1 + 0.002396397797911615*err_2*err_4^2*xhat_3 ...
  + 4.120364907042596e-05*err_2*err_4*err_5^2 - 0.4076613841462465*err_2 ...
  *err_4*err_5*uhat_1 + 0.158552793065198*err_2*err_4*err_5*xhat_3 ...
  - 2.769318225154119e-05*err_2*err_4*xhat_3^2 - 0.2927955672489714*err_2 ...
  *err_5^2*uhat_1 + 0.1214261801228603*err_2*err_5^2*xhat_3 ...
  - 0.0001194720324640047*err_2*err_5*uhat_1^2 - 1.429939158331758e-05 ...
  *err_2*err_5*uhat_1*xhat_3 + 0.2388579778636033*err_2*uhat_1^3 ...
  - 0.03923351397947822*err_2*uhat_1^2*xhat_3 + 0.03566352963925189*err_2 ...
  *uhat_1*xhat_3^2 - 0.03369166200204434*err_2*xhat_3^3 ...
  - 1.977547236653815e-05*err_3^4 - 0.001827083992993602*err_3^3*err_4 ...
  + 3.724696947153607e-05*err_3^3*err_5 + 1.792120176072326*err_3^3 ...
  *uhat_1 - 0.5949090741749543*err_3^3*xhat_3 + 0.0004781085929346921 ...
  *err_3^2*err_4^2 + 7.003457761774812e-05*err_3^2*err_4*err_5 ...
  + 0.02209074321588198*err_3^2*err_4*uhat_1 - 0.01382779795631025*err_3^2 ...
  *err_4*xhat_3 - 9.183734999015901e-05*err_3^2*err_5^2 - 9.70259692805554 ...
  *err_3^2*err_5*uhat_1 + 3.226642327078692*err_3^2*err_5*xhat_3 ...
  - 6.482913817948668e-05*err_3^2*uhat_1^2 - 0.01028277099547721*err_3^2 ...
  *uhat_1*xhat_3 - 0.0003096794488889848*err_3^2*xhat_3^2 ...
  + 1.043291590221355e-05*err_3*err_4^3 + 6.514814912892779e-05*err_3 ...
  *err_4^2*err_5 - 0.003474848113468632*err_3*err_4^2*uhat_1 ...
  - 0.0008169076500142357*err_3*err_4^2*xhat_3 + 1.792030528772169e-05 ...
  *err_3*err_4*err_5^2 - 0.09692860837928216*err_3*err_4*err_5*uhat_1 ...
  + 0.03722215627981605*err_3*err_4*err_5*xhat_3 + 1.314536991875553e-05 ...
  *err_3*err_4*uhat_1^2 + 0.001485097926382179*err_3*err_4*uhat_1*xhat_3 ...
  - 0.005474545331742316*err_3*err_4*xhat_3^2 - 2.671746117601361e-05 ...
  *err_3*err_5^3 - 2.133466805309204*err_3*err_5^2*uhat_1 ...
  + 0.6832174136756196*err_3*err_5^2*xhat_3 + 0.0003533211647320264*err_3 ...
  *err_5*uhat_1^2 + 0.0001691429632562456*err_3*err_5*uhat_1*xhat_3 ...
  + 0.001486504203147848*err_3*err_5*xhat_3^2 + 1.986571510717432*err_3 ...
  *uhat_1^3 - 0.3263370031212084*err_3*uhat_1^2*xhat_3 ...
  + 0.2868724465393717*err_3*uhat_1*xhat_3^2 - 0.2797130313098091*err_3 ...
  *xhat_3^3 - 0.004349293012244369*err_4^3*uhat_1 + 0.001831427180979646 ...
  *err_4^3*xhat_3 - 1.054359113915586*err_4^2*err_5*uhat_1 ...
  + 0.3015360606602757*err_4^2*err_5*xhat_3 + 1.636012852746985e-05 ...
  *err_4^2*uhat_1*xhat_3 + 0.001464221484001354*err_4^2*xhat_3^2 ...
  - 0.03322700988905249*err_4*err_5^2*uhat_1 + 0.01187327531502338*err_4 ...
  *err_5^2*xhat_3 - 0.000232251770764267*err_4*err_5*uhat_1^2 ...
  + 0.0001061151188643853*err_4*err_5*uhat_1*xhat_3 ...
  + 0.0002648696710644479*err_4*err_5*xhat_3^2 - 0.0002149353659081963 ...
  *err_4*uhat_1^3 - 5.675285780827135e-05*err_4*uhat_1^2*xhat_3 ...
  + 0.00138905374561912*err_4*uhat_1*xhat_3^2 - 0.001804175655655684*err_4 ...
  *xhat_3^3 - 1.293623494654949*err_5^3*uhat_1 + 0.1777192897500874 ...
  *err_5^3*xhat_3 + 7.797221071970634e-05*err_5^2*uhat_1^2 ...
  + 4.498459931495385e-05*err_5^2*uhat_1*xhat_3 - 11.1985664894278*err_5 ...
  *uhat_1^3 + 1.839272571569627*err_5*uhat_1^2*xhat_3 - 1.675668478570663 ...
  *err_5*uhat_1*xhat_3^2 + 1.577271379149119*err_5*xhat_3^3 ...
  - 1.179237581296279e-05*uhat_1*xhat_3^3 + 0.001250795988828237*err_1^3 ...
  + 0.2255569193816984*err_1^2*err_2 + 1.875242376525004*err_1^2*err_3 ...
  - 0.001581478209443987*err_1^2*err_4 - 10.62803137169888*err_1^2*err_5 ...
  + 0.0006055127103674189*err_1^2*xhat_3 + 0.003812178826890994*err_1 ...
  *err_2^2 + 0.01815038441695126*err_1*err_2*err_3 - 0.07111139532103092 ...
  *err_1*err_2*err_4 - 0.08214849084027936*err_1*err_2*err_5 ...
  - 0.0001866331263083281*err_1*err_2*xhat_3 + 0.005513923672323398*err_1 ...
  *err_3^2 - 0.5948932571242649*err_1*err_3*err_4 - 0.0137100933207751 ...
  *err_1*err_3*err_5 - 0.002363057789965408*err_1*err_3*uhat_1 ...
  - 9.326178987971272e-05*err_1*err_3*xhat_3 + 0.001294231294854951*err_1 ...
  *err_4^2 + 2.883558807378157*err_1*err_4*err_5 - 2.091748486503733e-05 ...
  *err_1*err_4*uhat_1 - 0.002263010373757823*err_1*err_4*xhat_3 ...
  - 0.006538179668302231*err_1*err_5^2 - 0.000142446799993193*err_1*err_5 ...
  *uhat_1 - 9.058676902935641e-05*err_1*err_5*xhat_3 ...
  + 0.0007841143777852389*err_1*uhat_1^2 - 0.004979647392240264*err_1 ...
  *uhat_1*xhat_3 + 0.0003264333779385022*err_1*xhat_3^2 ...
  + 0.2298593094305606*err_2^3 + 1.911223392734151*err_2^2*err_3 ...
  + 0.01066694166118877*err_2^2*err_4 - 10.77253640852991*err_2^2*err_5 ...
  + 1.369327318125095e-05*err_2^2*xhat_3 + 0.2251294650352925*err_2 ...
  *err_3^2 + 0.09275369813060631*err_2*err_3*err_4 + 0.1202139277735351 ...
  *err_2*err_3*err_5 + 0.0003758853731253597*err_2*err_3*uhat_1 ...
  + 0.0007681844629334858*err_2*err_3*xhat_3 - 0.001562281681073951*err_2 ...
  *err_4^2 - 0.4343086803301314*err_2*err_4*err_5 + 1.785543159664082e-05 ...
  *err_2*err_4*uhat_1 + 0.0003608160282869993*err_2*err_4*xhat_3 ...
  - 0.2569743361577031*err_2*err_5^2 + 1.84966879252593e-05*err_2*err_5 ...
  *uhat_1 + 0.0001358307756127381*err_2*err_5*xhat_3 + 0.1014924299181887 ...
  *err_2*uhat_1^2 - 0.03232260629968123*err_2*uhat_1*xhat_3 ...
  + 0.04894062576529556*err_2*xhat_3^2 + 1.910179516332412*err_3^3 ...
  + 0.0238785349781032*err_3^2*err_4 - 10.36686189570819*err_3^2*err_5 ...
  + 5.468129145743681e-05*err_3^2*uhat_1 + 0.00632588543964096*err_3^2 ...
  *xhat_3 - 0.02741219823584127*err_3*err_4^2 - 0.1037524003916354*err_3 ...
  *err_4*err_5 - 0.009469975846448656*err_3*err_4*uhat_1 ...
  - 0.0003211789215704894*err_3*err_4*xhat_3 - 2.177852932358046*err_3 ...
  *err_5^2 - 0.0001699050075278491*err_3*err_5*uhat_1 ...
  - 0.03495166459149263*err_3*err_5*xhat_3 + 0.8441721165927832*err_3 ...
  *uhat_1^2 - 0.2749291377931995*err_3*uhat_1*xhat_3 + 0.4070063794820428 ...
  *err_3*xhat_3^2 - 0.005118902104080864*err_4^3 - 0.8106480497603357 ...
  *err_4^2*err_5 - 5.370481525145994e-05*err_4^2*uhat_1 ...
  - 0.01882498060175848*err_4^2*xhat_3 - 0.03278011532283166*err_4 ...
  *err_5^2 - 0.0006377083246987592*err_4*err_5*uhat_1 + 3.317736031411371e-05*err_4*err_5*xhat_3 ...
  + 0.0001225660647920466*err_4*uhat_1^2 ...
  - 0.01898897610540508*err_4*uhat_1*xhat_3 - 0.0002331937249610723*err_4 ...
  *xhat_3^2 - 0.4725874773194301*err_5^3 - 6.481756111562169e-05*err_5^2 ...
  *uhat_1 - 0.003786184701600141*err_5^2*xhat_3 - 4.758877881948681*err_5 ...
  *uhat_1^2 + 1.550262390940243*err_5*uhat_1*xhat_3 - 2.293581136908915 ...
  *err_5*xhat_3^2 + 9.606421637608417e-05*err_1^2 - 2.399930643117325e-05 ...
  *err_1*err_2 - 0.002426617330485751*err_1*err_3 - 0.0003912726636655971 ...
  *err_1*err_4 - 0.0004191677597171085*err_1*err_5 - 2.873078709958059e-05 ...
  *err_1*uhat_1 - 0.00300626137679799*err_1*xhat_3 + 0.0005549841354425125 ...
  *err_2*err_3 + 6.285123936013948e-05*err_2*err_4 + 0.0001155403437896649 ...
  *err_2*err_5 + 0.1060816995359467*err_2*uhat_1 - 0.08023520844593864 ...
  *err_2*xhat_3 + 0.00158358224774498*err_3^2 + 0.01143761039534935*err_3 ...
  *err_4 - 0.008158259679063577*err_3*err_5 + 0.9026122176437585*err_3 ...
  *uhat_1 - 0.6703845623482716*err_3*xhat_3 - 0.003121186767983086 ...
  *err_4^2 - 0.0005701421274022763*err_4*err_5 - 0.003270318294176663 ...
  *err_4*uhat_1 + 0.01165716806361437*err_4*xhat_3 - 0.001108909508421897 ...
  *err_5^2 - 4.967618737802688*err_5*uhat_1 + 3.7799159113554*err_5 ...
  *xhat_3 + 0.002858005309058375*err_1 + 0.21442191867103*err_2 ...
  + 1.784998981841019*err_3 + 0.005231641617570813*err_4 ...
  - 9.885485585917072*err_5;

    block.OutputPort(1).Data = err;
    block.OutputPort(2).Data = [k1; k2];

%endfunction
